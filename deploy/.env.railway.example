# ============================================
# WinterShop - Railway Environment Variables
# ============================================

# ============================================
# BACKEND VARIABLES
# ============================================

# --- Application ---
APP_ENV=prod
APP_DEBUG=0

# Generate with: openssl rand -hex 32
APP_SECRET=your_generated_app_secret_here

# Frontend URL (will be your Railway frontend domain)
APP_FRONTEND_URL=https://your-frontend.railway.app

# Default URI for CLI commands
DEFAULT_URI=https://your-backend.railway.app

# --- Database ---
# Railway provides this automatically when you add MySQL
# Format: mysql://user:password@host:port/database
DATABASE_URL=${MYSQL_URL}

# --- JWT Authentication ---
# Generate with: openssl genpkey -algorithm RSA -out private.pem -pkeyopt rsa_keygen_bits:4096
# The keys will be generated automatically by entrypoint.sh
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem

# Generate with: openssl rand -base64 32
JWT_PASSPHRASE=your_generated_jwt_passphrase_here

# --- CORS ---
# Your frontend URL
CORS_ALLOW_ORIGIN=https://your-frontend.railway.app

# --- Stripe ---
# Get these from https://dashboard.stripe.com/apikeys
# Use LIVE keys for production (starts with sk_live_ and pk_live_)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key_here

# Get from https://dashboard.stripe.com/webhooks
# Create a webhook pointing to: https://your-backend.railway.app/api/stripe/webhook
# Select event: checkout.session.completed
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# --- Fixtures (optional) ---
# Set to "true" to load demo data on first deployment
# Set to "false" for production
LOAD_FIXTURES=false

# ============================================
# FRONTEND VARIABLES
# ============================================

# Backend API URL (your Railway backend domain)
VITE_API_BASE_URL=https://your-backend.railway.app/api

# Stripe publishable key (same as STRIPE_PUBLIC_KEY above)
VITE_STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key_here

# Tolgee API key (if using Tolgee for translations)
VITE_TOLGEE_API_KEY=your_tolgee_api_key_here

# ============================================
# NOTES
# ============================================

# 1. Generate secure secrets:
#    APP_SECRET: openssl rand -hex 32
#    JWT_PASSPHRASE: openssl rand -base64 32
#
# 2. JWT keys are generated automatically on first deployment
#
# 3. Railway provides DATABASE_URL automatically when you add MySQL service
#    Just use: ${MYSQL_URL}
#
# 4. Update URLs after deployment:
#    - APP_FRONTEND_URL
#    - CORS_ALLOW_ORIGIN
#    - VITE_API_BASE_URL
#
# 5. Don't forget to configure Stripe webhook in Stripe Dashboard
#    pointing to: https://your-backend.railway.app/api/stripe/webhook
